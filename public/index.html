<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Invitación — SAME</title>
  <!-- Tailwind CDN (rápido para prototipo) -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>

  <link rel="stylesheet" href="./dist/output.css">

  <style>
    /* Pequeñas mejoras visuales */
    body{background:linear-gradient(180deg,#f8fafc,#ffffff);}
    .card{backdrop-filter: blur(4px);} 



    .boton-ubicacion {
      display: inline-block;
      margin-top: 20px;
      background: #94e3ff;
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
    }

    .boton-ubicacion:hover { background: #ffffff; 
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .float {
      animation: float 4s ease-in-out infinite;
    }

    }

    .max-w-xs {
      max-width: 25rem !important;
    }




  </style>
</head>

<body class=" bg-gradient-to-b from-[#0d2755] to-black  flex items-center justify-center p-0 m-0">
  <main class="h-full w-full   rounded-none shadow-inner overflow-auto card ">
    <!-- Header: logo y título -->
<!-- Encabezado decorativo -->
<header class="relative mb-12 overflow-hidden flex justify-center items-center">

</header>


    <img src="https://img.icons8.com/fluency/48/snow-storm.png" alt="Adorno navideño" class="absolute top-6 right-10 w-24 drop-shadow-lg float"><!-- Area de video -->
    <section class="mb-6">
  <!-- Video para web -->
  <div class=" bg-black overflow-hidden relative ">
    <video id="videoDesktop" class="w-full h-full object-cover" autoplay="" playsinline="" preload="auto" controls="">
      <source src="videoweb.mp4" type="video/mp4">
      Tu navegador no soporta la etiqueta <code>video</code>.
    </video>
  </div>

<script>
  const videoDesktop = document.getElementById('videoDesktop');
  videoDesktop.addEventListener('click', () => {
    if (videoDesktop.paused) {
      videoDesktop.play();
    }
  });
</script>
</section>

    <!-- Sección principal de invitación -->
<section class="relative w-full h-72 mb-6 p-6 overflow-hidden flex justify-center items-center">
    <!-- Imágenes decorativas flotantes -->
  <img src="https://img.icons8.com/fluency/48/snow-storm.png" alt="Adorno navideño" class="absolute top-6 left-10 w-24 drop-shadow-lg float">

  <img src="https://img.icons8.com/fluency/96/sparkling.png" alt="Regalo navideño" class="absolute top-10 right-12 w-28 opacity-90 float">

  <img src="https://img.icons8.com/fluency/48/christmas-candle.png" alt="Bastón dulce" class="absolute bottom-8 left-20 w-20 opacity-80 float">

  <img src="https://img.icons8.com/fluency/96/christmas-ball.png" alt="Campana" class="absolute top-16 left-1/2 w-12 -translate-x-1/2 float">

  <img src="https://img.icons8.com/fluency/96/candy-cane--v1.png" alt="Copo de nieve" class="absolute bottom-10 right-20 w-20 float">

  <!-- Texto o logo central -->
  <div class="relative z-10 text-center">
    <h1 class="text-4xl font-bold text-red-700 drop-shadow-sm">✨ Invitación Especial ✨</h1>
    <p class="text-green-700 mt-2 text-lg">Acompáñanos a celebrar esta Navidad</p>
    <p class="text-white mt-2 text-lg">Se requiere vestimenta formal para todos los asistentes.</p>
  </div>
</section>


<!--botonwhatsapp-->
<!-- Formulario -->
    <section class="mb-4">
      <h3 class="font-semibold mb-3 text-lg text-center text-slate-700">Confirma tu asistencia</h3>
      <div class="flex flex-col gap-3 items-center">
        <input id="nombreInput" type="text" placeholder="Tu nombre" class="w-72 p-2 border rounded text-center" required>
        <input id="personasInput" type="number" min="1"  class="w-72 p-2 border rounded text-center" placeholder="Número de personas">
        
        <div class="flex gap-3 w-72">
          <button id="confirmBtn" class="flex-1 py-3 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 hover:scale-105 active:scale-95 transition">✅ Confirmar asistencia</button>
          <button id="declineBtn" class="flex-1 py-3 rounded-lg bg-red-600 text-white font-semibold hover:bg-red-700 hover:scale-105 active:scale-95 transition">❌ No podré asistir</button>
        </div>
      </div>
  </section>





 
    <!-- Ubicación -->

  <section class="mb-6 p-6 bg-slate-50 rounded-xl shadow-md">
  <h3 class="text-lg font-semibold mb-2">📍 Ubicación</h3>

  <!-- Mapa embebido: Virgen de las Virtudes, La Guadalupana, Ecatepec -->
  <div class="w-full h-64 mb-3 rounded-lg overflow-hidden shadow-sm">
    <iframe
      src="https://www.google.com/maps?q=Virgen%20de%20las%20Virtudes%20Pte.%2C%20La%20Guadalupana%2C%2055060%20Ecatepec%20de%20Morelos%2C%20M%C3%A9x.&output=embed"
      width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"
      referrerpolicy="no-referrer-when-downgrade">
    </iframe>
  </div>

  <!-- Enlace a Google Maps -->
  <p class="text-sm text-slate-700">
    ¿Quieres ver la ubicación completa en Maps?
    <a href="https://www.google.com/maps/search/?api=1&query=Virgen%20de%20las%20Virtudes%20Pte.%2C%20La%20Guadalupana%2C%2055060%20Ecatepec%20de%20Morelos%2C%20M%C3%A9x."
       target="_blank" class="text-sky-600 font-medium hover:underline">
      Abrir en Maps
    </a>
  </p>
  </section>

    <section class="mb-4 p-6">
      <h3 class="font-medium">Ubicación</h3>
      <p class="text-sm text-slate-600">Dirección: <a id="mapsLink" href="https://www.google.com/maps/search/?api=1&amp;query=Virgen%20de%20las%20Virtudes%20Pte.%2C%20La%20Guadalupana%2C%2055060%20Ecatepec%20de%20Morelos%2C%20M%C3%A9x." target="_blank" class="text-sky-600 boton-ubicacion underline">Abrir en Maps</a></p>
    </section>

<!-- Estado -->
<!-- Estado -->
    <section class="text-sm text-slate-700 border-t pt-3 text-center">
      <p>Estado de tu respuesta: <strong id="statusText">No respondiste</strong></p>
    </section>

    <!-- Resumen visible (opcional) -->

  </main>
<script>
  const CONFIG = { API_BASE: '/api' };

  function setStatus(text) {
    document.getElementById('statusText').textContent = text;
  }

  const confirmBtn = document.getElementById('confirmBtn');
  const declineBtn = document.getElementById('declineBtn');

  // ✅ Confirmar asistencia
  confirmBtn.addEventListener('click', async () => {
    const nombre = document.getElementById('nombreInput').value.trim();
    const personas = parseInt(document.getElementById('personasInput').value) || 1;

    if (!nombre) return alert("Por favor, ingresa tu nombre.");

    try {
      const res = await fetch(`${CONFIG.API_BASE}/confirmar`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ nombre, personas })
      });

      const data = await res.json();
      alert(data.mensaje || 'Confirmación enviada. Gracias por confirmar tu asistencia.');

      setStatus(`Confirmado — ${personas} persona(s)`);
    } catch (err) {
      console.error(err);
      alert('Error al enviar confirmación.');
    }
  }); // ← ESTE FALTABA

  // ❌ No podré asistir
  declineBtn.addEventListener('click', async () => {
    const nombre = document.getElementById('nombreInput').value.trim();
    if (!nombre) return alert("Por favor, ingresa tu nombre.");

    try {
      const res = await fetch(`${CONFIG.API_BASE}/no-asistire`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ nombre })
      });

      const data = await res.json();
      alert(data.mensaje || 'Notificación enviada.');
      setStatus('No podrá asistir');
    } catch (err) {
      console.error(err);
      alert('Error al enviar notificación.');
    }
  });
</script>

</body>
</html>